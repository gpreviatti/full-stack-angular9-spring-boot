<h1 class="mt-4">Clientes - Consulta</h1>
<div class="container">
	<div class="row" *ngIf="mensagemSucesso">
		<div class="col-md-12">
			<div
				class="alert alert-success"
				role="alert"
			>
				{{ mensagemSucesso }}
			</div>
		</div>
	</div>

    <div class="row">
        <div class="col-md-12">
            <button type="button" class="btn btn-success btn-block" (click)="novoCadastro()">
                <i class="fa fa-plus"></i>
                Novo
            </button>
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-md-12">
            <table class="table table-hover table-condensed">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nome</th>
                        <th>Cpf</th>
                        <th>Data Cadastro</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let cliente of clientes">
                        <td> {{ cliente.id }} </td>
                        <td> {{ cliente.nome }} </td>
                        <td> {{ cliente.cpf }} </td>
                        <td> {{ cliente.dataCadastro }} </td>
                        <td>
							<button
								type="button"
								class="btn btn-primary btn-sm"
								routerLink="/clientes-form/{{cliente.id}}"
							>
								<i class="fa fa-edit"></i>
							</button>
							<button
								type="button"
								class="btn btn-danger btn-sm"
								data-toggle="modal"
								data-target="#modalDelecao"
								(click)="preparaDelecao(cliente)"
							>
								<i class="fa fa-trash"></i>
							</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
	</div>

	<!-- Modal de deleção -->
	<div id="modalDelecao" class="modal fade" role="dialog">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4>Confirmação</h4>
				</div>

				<div class="modal-body" *ngIf="clienteSelecionado">
					Confirma a deleção do(a) Cliente {{ clienteSelecionado.nome }} ?
				</div>

				<div class="modal-footer">
					<button
						class="btn btn-success"
						(click)="deletarCliente()"
						data-dismiss="modal"
					>
						Confiirma
					</button>

					<button
						class="btn btn-danger"
						data-dismiss="modal"
					>
						Cancelar
					</button>
				</div>
			</div>
		</div>
	</div>

</div>
